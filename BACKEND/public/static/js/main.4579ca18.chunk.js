(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],[,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(11),l=Object(a.b)({name:"auth",initialState:{token:null,isLogged:!1,userId:null},reducers:{login:function(e,t){e.token=t.payload.token,e.userId=t.payload.userId,e.isLogged=!0,localStorage.setItem("userData",JSON.stringify({userId:e.userId,token:e.token}))},logout:function(e){e.token=null,e.userId=null,e.isLogged=!1,localStorage.removeItem("userData")}}}),r=l.actions;t.b=l.reducer},,,,,,function(e,t,n){"use strict";var a=n(0),l=n.n(a);n(38);t.a=function(e){return l.a.createElement("div",{className:"".concat(e.asOverlay&&"loading-spinner__overlay")},l.a.createElement("div",{className:"lds-dual-ring"}))}},function(e,t,n){"use strict";var a=n(0),l=n.n(a),r=n(4),c=n.n(r);n(37);t.a=function(e){return c.a.createPortal(l.a.createElement("div",{className:"backdrop",onClick:e.onClick}),document.getElementById("backdrop-hook"))}},,,,,,,function(e,t,n){e.exports=n(39)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(4),c=n.n(r),u=(n(27),n(1)),o=n(5),m=n(3),i=(n(28),n(29),function(e){return l.a.createElement("header",{className:"main-header"},e.children)}),s=(n(30),n(6)),E=n(8),d=function(){var e=Object(s.c)((function(e){return e.auth.isLogged})),t=Object(s.b)(),n=Object(s.c)((function(e){return e.auth.userId}));return l.a.createElement("ul",{className:"nav-links"},l.a.createElement("li",null,l.a.createElement(o.c,{to:"/"}," ALL USERS")),e&&l.a.createElement("li",null,l.a.createElement(o.c,{to:"/".concat(n,"/places")}," MY PLACES")),e&&l.a.createElement("li",null,l.a.createElement(o.c,{to:"/places/new"}," ADD PLACE")),!e&&l.a.createElement("li",null,l.a.createElement(o.c,{to:"/auth"}," AUTHENTICATE")),e&&l.a.createElement("li",null,l.a.createElement("button",{onClick:function(){return t(E.a.logout()),l.a.createElement(u.a,{to:"/"})}},"LOGOUT"),")"))},f=(n(36),n(41)),b=function(e){var t=l.a.createElement(f.a,{in:e.show,timeout:1e3,classNames:"slide-in-left",mountOnEnter:!0,unmountOnExit:!0},l.a.createElement("aside",{className:"side-drawer"},e.children));return c.a.createPortal(t,document.getElementById("drawer-hook"))},h=n(15),p=function(e){var t=Object(a.useState)(!1),n=Object(m.a)(t,2),r=n[0],c=n[1];return l.a.createElement(a.Fragment,null,r&&l.a.createElement(h.a,{onClick:function(){c(!1)}}),l.a.createElement(b,{show:r},l.a.createElement("nav",{className:"main-navigation__drawer-nav"},l.a.createElement(d,null))),l.a.createElement(i,null,l.a.createElement("button",{className:"main-navigation__menu-btn",onClick:function(){c(!0)}},l.a.createElement("span",null),l.a.createElement("span",null),l.a.createElement("span",null)),l.a.createElement("h1",{className:"main-navigation__title"},l.a.createElement(o.b,{to:"/"},"YourPlaces")),l.a.createElement("nav",{className:"main-navigation__header-nav"},l.a.createElement(d,null))))},g=n(14),v=l.a.lazy((function(){return n.e(7).then(n.bind(null,70))})),k=l.a.lazy((function(){return n.e(4).then(n.bind(null,67))})),I=l.a.lazy((function(){return n.e(6).then(n.bind(null,71))})),O=l.a.lazy((function(){return n.e(5).then(n.bind(null,68))})),N=l.a.lazy((function(){return n.e(3).then(n.bind(null,69))})),y=function(){var e,t=Object(s.c)((function(e){return e.auth.isLogged})),n=Object(s.b)();return Object(a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));e&&n(E.a.login({userId:e.userId,token:e.token}))}),[]),e=t?l.a.createElement(a.Fragment,null,l.a.createElement(u.b,{path:"/",element:l.a.createElement(v,null)}),l.a.createElement(u.b,{path:"/:userId/places",element:l.a.createElement(I,null)}),l.a.createElement(u.b,{path:"/places/new",element:l.a.createElement(k,null)}),l.a.createElement(u.b,{path:"/:userId/places/:placeId",element:l.a.createElement(O,null)}),l.a.createElement(u.b,{path:"*",element:l.a.createElement(u.a,{to:"/",replace:!0})})):l.a.createElement(a.Fragment,null,l.a.createElement(u.b,{path:"/",element:l.a.createElement(v,null)}),l.a.createElement(u.b,{path:"/:userId/places",element:l.a.createElement(I,null)}),l.a.createElement(u.b,{path:"/auth",element:l.a.createElement(N,null)})," ",l.a.createElement(u.b,{path:"*",element:l.a.createElement(u.a,{to:"/auth",replace:!0})})),l.a.createElement(o.a,null,l.a.createElement(p,null),l.a.createElement("main",null,l.a.createElement(a.Suspense,{fallback:l.a.createElement("div",{className:"center"},l.a.createElement(g.a,null))},l.a.createElement(u.d,null,e))))},S=n(11),j=Object(S.a)({reducer:{auth:E.b}});c.a.render(l.a.createElement(s.a,{store:j},l.a.createElement(y,null)),document.getElementById("root"))}],[[22,1,2]]]);
//# sourceMappingURL=main.4579ca18.chunk.js.map